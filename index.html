<!DOCTYPE html>
<html lang="en">
<head>
    <link href="style.css" rel="stylesheet" type="text/css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script src="script.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>График Google</title>
</head>
<body>
    <header>
        <h1>Парадокс коробок Бертрана</h1>
    </header>
    <main>
        <div class="content">
            <section class="description">
                <h2>Описание задачи</h2>
                <p>У нас есть три сундука, в каждом из которых лежит по две монетки 
                (в первом — две золотые, во втором — одна золотая и одна серебряная, в третьем — две серебряные).</p>
                <p>Мы выбираем один из этих сундуков случайным образом и вслепую вытаскиваем одну из монеток. Она оказывается золотой.</p>
                <p>Какова вероятность того, что вторая монетка в этом сундуке — тоже золотая?</p>
            </section>
            <section class="solution">
                <h2>Решение задачи</h2>
                <p>Парадокс заключается в следующем: после выбора случайной коробки и случайной монеты из нее, выбранная монета оказалась золотой.</p>
                <p>Какова вероятность того, что вторая монета в выбранной коробке также золотая?</p>
                <p>Может показаться, что такая вероятность равна 1/2, но на самом деле ответ — 2/3. Дело в том, что если выбрана золотая монета,
                  то вероятность того, что она в коробке номер 1 — 2/3, так как в ней 2 золотых монеты, а всего золотых — три.</p>
                <p>Покажем это на графике, где будет показана такая же ситуация 100 раз. Так увидим, куда стремится математическое ожидание.</p>
            </section>
            <section class="graph">
                <h2>Решение задачи при помощи графика</h2>
                <div>Средняя вероятность:<div id="probability">66</div></div>
                <div id="columnchart_material" style="width: 800px; height: 500px;"></div>
            </section>
            <section class="code">
                <h2>Демонстрация кода</h2>
                <code>
                    <pre>
                    $(document).ready(function () {    

                        // Инициализация
                        var count = 100;
                        var chests = [[1, 1], [1, 0], [0, 0]];
                        var init = 3;
                        let win, change, commonChange = 0;
                        let commonWin= 0;
                        
                        var dataRows = [
                          ['trying', 'probability']
                        ];
                        
                        for (var i = 1; i < count + 1; i++) {
                          shuffle(chests);
                          shuffleEntrails(chests);
                          win = 0;
                      
                          for (var k = 0; k < init; k) {
                            shuffle(chests);
                            shuffleEntrails(chests);
                            if (chests[0][0] == 1) {
                              k++;
                              commonChange++;
                              if (chests[0][1] == 1) {
                                win++;
                                commonWin++;
                              }
                            }
                          }
                          change = win / init * 100;
                          dataRows[i] = [i, change];
                        }
                      
                        commonChange = commonWin/(init*count)*100;
                        commonChange=commonChange.toFixed(2)
                        drawGraph(dataRows);
                      });
                      
                      
                        //Отрисовка
                      function drawGraph(dataRows){
                        google.charts.load('current', { 'packages': ['bar'] });
                        google.charts.setOnLoadCallback(drawChart);
                      
                        function drawChart() {
                          var data = google.visualization.arrayToDataTable(dataRows);
                      
                          var options = {
                            chart: {
                              title: 'Solution Graph',
                              subtitle: 'trying, probability',
                            }
                          };
                          var chart = new google.charts.Bar(document.getElementById('columnchart_material'));
                          chart.draw(data, google.charts.Bar.convertOptions(options));
                        }
                      }
                      
                        //Перемешивание
                        function shuffle(array) {
                          array.sort(() => Math.random() - 0.5);
                        }
                      
                        function shuffleEntrails(array){
                          for (let j = 0; j < array.length; j++) {
                            shuffle(array[j]);
                          }
                        }
                    </pre>
                </code>
            </section>
            <section class="reasoning">
                <h2>Обсудим подробнее:</h2>
                <div>
                    Мы понимаем, что нет никакого вероятного исхода задействовать сундук с двумя серебрянными монетами.
                    Это означает, что можем рассматривать примеры сразу только с двумя сундуками. Где есть две золотые монеты и где они разные.
                    <p>Рассмотрим все возможности:</p>
                </div>
                <ol>
                    <li>Допустим, что это сундук с разными монетами, значит - вторая монета серебрянная.</li>
                    <li>Допустим, что это сундук с золотыми монетами, значит - вторая монета золотая.</li>
                    <li>Здесь хочется остановиться, и посчитать, что шанс 50/50, где возможно вытащить либо серебрянную монету, либо золотую. Однако, должны рассмотреть, что мы можем вытащить другую золотую монету из сундука с сзолотом. Что приводдит нас к мысли, что вероятных исхода три.
                    </li>
                </ol>
                <p>Продемонстрируем:</p>
                <div>
                    <div>G G</div>
                    <div>G S</div>
                </div>
                <ol>
                    <li><div>
                        <div>G S</div>
                    </div>
                </li>
                    <li>
                        <div>
                            <div>G G</div>
                        </div>
                    </li>
                    <li>
                        <div>
                            <div>G G</div>
                        </div>
                    </li>
                </ol>
            </section>
        </div>
    </main>
    <footer>
        <div class="footer_github">
            <div class="image footer_image image_github"></div>
            <div class="contact__content footer_content">
                <a href="https://github.com/BodnarAlex">My Github</a>
            </div>
        </div>
        <div class="year_create">
            <p>&copy; 2023 by Aleksandra Bodnar</p>
        </div>
        <div></div>
    </footer>
</body>
</html>